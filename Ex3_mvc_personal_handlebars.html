<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Personalhantering  MVC med Handlebars och egna klasser</title>
 
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js"></script>
</head>
<body class="container py-4">

  <h1 class="mb-4">Personalhantering</h1>

  <!-- Formulär för att lägga till personal -->
  <form id="addForm" class="mb-4">
    <div class="row g-2">
      <div class="col-md-2">
        <input type="number" id="id" class="form-control" placeholder="ID" required>
      </div>
      <div class="col-md-3">
        <input type="text" id="namn" class="form-control" placeholder="Namn" required>
      </div>
      <div class="col-md-3">
        <input type="email" id="epost" class="form-control" placeholder="E-post" required>
      </div>
      <div class="col-md-3">
        <input type="text" id="roll" class="form-control" placeholder="Roll" required>
      </div>
      <div class="col-md-1">
        <button type="submit" class="btn btn-success w-100">Lägg till</button>
      </div>
    </div>
  </form>
  <hr>

  <!-- Lista med personal -->
  <div id="personalLista" class="row"></div>

  <!-- Modal för uppdatering -->
  <div class="modal fade" id="modalUppdateraPersonal" tabindex="-1">
    <div class="modal-dialog">
      <form id="uppdateraForm" class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Uppdatera personal</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input type="hidden" id="uppdateraId">
          <div class="mb-3">
            <label for="uppdateraNamn" class="form-label">Namn</label>
            <input type="text" id="uppdateraNamn" class="form-control" required>
          </div>
          <div class="mb-3">
            <label for="uppdateraEpost" class="form-label">E-post</label>
            <input type="email" id="uppdateraEpost" class="form-control" required>
          </div>
          <div class="mb-3">
            <label for="uppdateraRoll" class="form-label">Roll</label>
            <input type="text" id="uppdateraRoll" class="form-control" required>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Spara ändringar</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Avbryt</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Handlebars-template -->
  <script id="personal-template" type="text/x-handlebars-template">
    {{#each personal}}
      <div class="col-md-4">
        <div class="card mb-3" data-id="{{id}}" data-namn="{{namn}}" data-epost="{{epost}}" data-roll="{{roll}}">
          <div class="card-body">
            <h5 class="card-title">{{namn}} ({{id}})</h5>
            <p class="card-text">{{epost}}</p>
            <p class="card-text"><strong>{{roll}}</strong></p>
            <button class="btn btn-danger btn-sm btn-delete" data-id="{{id}}">Ta bort</button>
            <button class="btn btn-primary btn-sm btn-edit" data-id="{{id}}" data-bs-toggle="modal" data-bs-target="#modalUppdateraPersonal">Ändra</button>
          </div>
        </div>
      </div>
    {{/each}}
  </script>

  <!-- Din JavaScript-fil -->
  <script src="Ex3_mvc_personal_classes_handlebars.js"></script>
  
</body>
</html>
